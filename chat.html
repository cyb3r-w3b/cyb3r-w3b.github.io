<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>chatroom | Cyb3r.W3B</title>
  </head>
  <style>
  	@media only screen and (min-width: 600px) {
body {
display: none;
}
}
  	.but:hover{
  	background:#121212;
  	}
  .but{
  	margin-left:5px; height:30px; outline:none; border:none; background:black; color:gray; font-size:20px; font-weight:900;
  }
  	</style>
  <body bgcolor="black">
    <code>
    <div>
      <header><p style="text-align:center; color:gray; font-weight:900;">welcome to chatroom 1.0</p><p id="message" style="color:white; display:none; position: absolute; right:10px; top:0; font-size:10px;">sending...</p></header><br>
      </div>
      <div style="overflow: scroll; height:90%; margin-top:-25px; margin-left:-9px;">
      <table>
  <tbody data-sheetdb-url="https://sheetdb.io/api/v1/7cjchecea3t30"
         data-sheetdb-sort-by="age"
  data-sheetdb-sort-order="desc">
  	<tr>
      <td><p style="color:white; font-size:13px; font-weight:700; text-align:left;"><d style="font-weight:100;">{{time}}</d><a style="color:red;">@</a><d style="color:white;">{{ip}}: <d style="color:green;">{{msg}}</d></d></td>
      </tr>
  </tbody>
</table>
</div>
      <div style="background:black; border:1px solid gray; padding:5px; position: absolute; bottom:0; left:0; right:0;">
      <footer style="text-align:center;">
      	<form method="post" action="https://sheetdb.io/api/v1/7cjchecea3t30" id="sheetdb-form">
          <input id="po" name="data[ip]" hidden>
          <input type="time" id="time" name="data[time]" hidden readonly>
      	<label style="color:white; margin-right:5px; font-size:15px; font-weight:900;">Message ></label><input type="text" name="data[msg]" style="background:black; outline:none; border:none; width:220px; height:30px; color:white; padding-left:5px; font-size:15px;"><input type="submit" onclick="cli()" class="but" value="send">
      	</form>
      	</footer>
      </div>
  </code>
  <script src="https://sheetdb.io/handlebars.js"></script>
  <script>
  	function cli(){
      document.getElementById("message").style.display = "block";
  	}
  var currentTime = new Date();
  var hours = String(currentTime.getHours()).padStart(2, '0');
  var minutes = String(currentTime.getMinutes()).padStart(2, '0');
  var seconds = String(currentTime.getSeconds()).padStart(2, '0');
  var timeString = hours + ':' + minutes + ':' + seconds;
  document.getElementById('time').value = timeString;
  	</script>
  <script>
  	async function getUserIP() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    document.getElementById('po').value = data.ip;
  } catch (error) {
    console.error('hello:', error);
  }
}
getUserIP();
</script>
  <script>
  var form = document.getElementById('sheetdb-form');
  form.addEventListener("submit", e => {
    e.preventDefault();
    fetch(form.action, {
        method : "POST",
        body: new FormData(document.getElementById("sheetdb-form")),
    }).then(
        response => response.json()
    ).then((html) => {
      window.location.href = 'chat.html';
    });
  });
</script>
  </body>
</html>